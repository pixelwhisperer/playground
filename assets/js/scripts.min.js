/*!
 * matching-game
 *
 *
 * @author Steve Yawan
 * @version 1.0.0
 * Copyright 2015. ISC licensed.
 */
$(document).ready(function(){function a(){q=0,f=0,k=0,E=[],M=0,j=[],N.html(q),N.attr("data-moves",q),T.html('<span class="number-of-matches"> '+f+"</span>"),E=[],M=0,j=[]}function s(){M=0;for(var a=0;2*p>=a;a++)$(".tile_"+a).hasClass("active")&&(M+=1);if(1===M);else if(2===M){for(a=0;2*p>=a;a++)$(".tile_"+a).hasClass("active")&&j.push($(".tile_"+a).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1]);j[0]===j[1]?(E.push(j[0]),$("."+j[0]).addClass("matched"),$("."+j[1]).addClass("matched"),M=0,j=[],t()):(t(),M=0,j=[])}}function e(){for(var a=0;2*p>=a;a++)$(".tile_"+a).hasClass("matched")&&(y=$(".tile_"+a).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1],$(".tile_"+a).css("background-image",'url("assets/img/superheroes/'+y+'.gif")'),$(".tile_"+a).removeClass("active"))}function t(){for(var a=0;2*p>=a;a++)$(".tile_"+a).hasClass("matched")?(y=$(".tile_"+a).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1],$(".tile_"+a).css("background-image",'url("assets/img/superheroes/'+y+'.gif")'),$(".tile").removeClass("active")):($(".tile_"+a).animate({opacity:0},"slow",function(){$(this).css({"background-image":'url("assets/img/marvel-shield.svg")'}).animate({opacity:1})}),$(".tile_"+a).removeClass("active"),$(".tile").removeClass("active"))}function l(){f=0;for(var a=0;2*p>=a;a++)$(".tile_"+a).hasClass("matched")&&(f+=1,T.html('<span class="number-of-matches"> '+f/2+"</span>"))}function r(){for(var a=0;2*p>=a;a++)$(".pair_"+a).css("background-image",'url("assets/img/superheroes/pair_'+a+'.gif")')}function c(){"Tough"===C?(v=6,g=5,p=15):"Normal"===C?(v=5,g=4,p=12):(v=4,g=4,p=8),k=0,E=[],M=0,j=[],d.removeClass("Easy"),d.removeClass("Normal"),d.removeClass("Tough"),d.addClass(C),a(),x=o(p),x=n(x),m(x)}function o(a){for(var s=[],e=1;a>=e;e++)s.push(e,e);return s}function n(a){for(var s,e=[];a.length>0;)s=Math.random()*a.length,e.push(a.splice(s,1)[0]);return e}function m(a){var s=0;w="",b.html(w);for(var e=0;g>e;e++){w+='<ul class="col_'+e+'"></ul>';for(var t=0;v>t;t++)w+='<li class="tile tile_'+s+" pair_"+a[s]+'"><a href="#" id="tile">'+a[s]+"</a></li>",s++}for(b.html(w),i=0;i<g*v;i++)$("pair_"+i).css({"background-image":'url("assets/img/marvel-shield.svg")'})}var u=$("#new-game"),h=$(".quit-btn"),d=$("main"),f=0,v=4,g=4,p=8,_=$("#difficulty-setting"),C=$("#difficulty-setting").val(),b=$(".table-view"),k=0,y="",w="",N=$(".steps-taken"),T=$(".number-of-matches"),q=0,E=[],M=0,j=[];u.click(function(){a(),C=$("select").val(),c()}),h.click(function(){a(),C=$("select").val(),r(),_.removeClass("disabled"),_.attr("disabled",!1)}),b.on("click",".tile",function(){$(this).addClass("active"),q+=1,N.html("&nbsp;"+q),N.data("moves",q),N.attr("data-moves",q),M+=1;var a=$(this).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1];$(this).css("background-image",'url("assets/img/superheroes/'+a+'.gif")'),k=N.data("moves"),_.addClass("disabled"),_.attr("disabled",!0),s(),e(),l()});var x=o(p);x=n(x),m(x)});
