/*!
 * matching-game
 * 
 * 
 * @author Steve Yawan
 * @version 1.0.0
 * Copyright 2015. ISC licensed.
 */
$(document).ready(function(){function a(){M=0,f=0,C=0,N=[],T=0,j=[],w.html(M),w.attr("data-moves",M),q.html('<span class="number-of-matches"> '+f+"</span>"),N=[],T=0,j=[]}function s(){T=0;for(var a=0;2*g>=a;a++)$(".tile_"+a).hasClass("active")&&(T+=1);if(1===T);else if(2===T){for(a=0;2*g>=a;a++)$(".tile_"+a).hasClass("active")&&j.push($(".tile_"+a).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1]);j[0]===j[1]?(N.push(j[0]),$("."+j[0]).addClass("matched"),$("."+j[1]).addClass("matched"),T=0,j=[],e()):(e(),T=0,j=[])}}function t(){for(var a=0;2*g>=a;a++)$(".tile_"+a).hasClass("matched")&&(k=$(".tile_"+a).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1],$(".tile_"+a).css("background-image",'url("assets/img/superheroes/'+k+'.gif")'),$(".tile_"+a).removeClass("active"))}function e(){for(var a=0;2*g>=a;a++)$(".tile_"+a).hasClass("matched")?(k=$(".tile_"+a).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1],$(".tile_"+a).css("background-image",'url("assets/img/superheroes/'+k+'.gif")'),$(".tile").removeClass("active")):($(".tile_"+a).animate({opacity:0},"slow",function(){$(this).css({"background-image":'url("assets/img/marvel-shield.svg")'}).animate({opacity:1})}),$(".tile_"+a).removeClass("active"),$(".tile").removeClass("active"))}function l(){f=0;for(var a=0;2*g>=a;a++)$(".tile_"+a).hasClass("matched")&&(f+=1,q.html('<span class="number-of-matches"> '+f/2+"</span>"))}function r(){for(var a=0;2*g>=a;a++)$(".pair_"+a).css("background-image",'url("assets/img/superheroes/pair_'+a+'.gif")')}function c(){"Tough"===_?(d=6,v=5,g=15):"Normal"===_?(d=5,v=4,g=12):(d=4,v=4,g=8),C=0,N=[],T=0,j=[],console.log(_),a(),x=o(g),x=n(x),m(x)}function o(a){for(var s=[],t=1;a>=t;t++)s.push(t,t);return s}function n(a){for(var s,t=[];a.length>0;)s=Math.random()*a.length,t.push(a.splice(s,1)[0]);return t}function m(a){var s=0;y="",b.html(y);for(var t=0;v>t;t++){y+='<ul class="col_'+t+'"></ul>';for(var e=0;d>e;e++)y+='<li class="tile tile_'+s+" pair_"+a[s]+'"><a href="#" id="tile">'+a[s]+"</a></li>",s++}for(b.html(y),i=0;i<v*d;i++)$("pair_"+i).css({"background-image":'url("assets/img/marvel-shield.svg")'})}var u=$("#new-game"),h=$(".quit-btn"),f=0,d=4,v=4,g=8,p=$("#difficulty-setting"),_=$("#difficulty-setting").val(),b=$(".table-view"),C=0,k="",y="",w=$(".steps-taken"),q=$(".number-of-matches"),M=0,N=[],T=0,j=[];u.click(function(){a(),_=$("select").val(),c()}),h.click(function(){a(),_=$("select").val(),r(),p.removeClass("disabled"),p.attr("disabled",!1)}),b.on("click",".tile",function(){$(this).addClass("active"),M+=1,w.html("&nbsp;"+M),w.data("moves",M),w.attr("data-moves",M),T+=1;var a=$(this).attr("class").match(/(pair_.*?)(?:\s+|$)/)[1];$(this).css("background-image",'url("assets/img/superheroes/'+a+'.gif")'),C=w.data("moves"),p.addClass("disabled"),p.attr("disabled",!0),s(),t(),l()});var x=o(g);x=n(x),m(x)});